<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financial & Accounting System</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/logo.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>


<body>
    <header class="navbar">
        <div class="logo">
            <img src="assets/logo.png" alt="Finance & Accounting System">
        </div>
        <nav class="nav-links">
            <a href="#home">Home</a>
            <a href="#features">Features</a>
            <a href="#about">About Us</a>
            <a href="#contact">Contact</a>
            <span id="user-display" class="muted" style="display:none;"></span>
            <a href="#" class="btn" data-open="student-login-modal" id="student-login-btn">Student Login</a>
            <a href="#" class="btn" data-open="finance-login-modal" id="finance-login-btn">Finance Login</a>
            <a href="#" class="btn" id="logout-link" style="display:none;">Logout</a>
        </nav>
    </header>

    <!-- ===== HERO SECTION ===== -->
    <section class="hero">
      <div class="container hero-content">
          <div class="hero-text">
              <h1>Welcome to the Financial & Accounting System</h1>
              <p>A comprehensive system for managing financial transactions, budgeting, and reporting.</p>
              <a href="#features" class="btn-primary">Explore Our Features</a>
          </div>
          <div class="hero-image">
        <img src="assets/finance-illustration.png" alt="Finance Dashboard" />
      </div>
    </div>
  </section>

  <!-- ===== FEATURES SECTION ===== -->
  <section id="features" class="features">
    <h2>Features</h2>
    <p>Key features of our system</p>
    <div class="features-grid">
      <div class="feature">
        <img src="assets/icons/expense.png" alt="Track Expenses" />
        <h3>Track Expenses</h3>
      </div>
      <div class="feature">
        <img src="assets/icons/report.png" alt="Generate Reports" />
        <h3>Generate Reports</h3>
      </div>
      <div class="feature">
        <img src="assets/icons/secure.png" alt="Secure Access" />
        <h3>Secure Access</h3>
      </div>
    </div>
  </section>

  <!-- ===== ABOUT ===== -->
  <section id="about" class="about">
    <h2>About</h2>
    <p>
      Our Finance & Accounting System is designed to streamline your financial processes,
      providing you with the tools you need to make informed decisions and achieve your financial goals.
    </p>
  </section>

  <!-- ===== CONTACT ===== -->
  <section id="contact" class="contact">
    <h2>Contact</h2>
    <form class="contact-form">
      <input type="email" placeholder="Email" required />
      <button type="submit">Submit</button>
    </form>
    <p><img src="assets/icons/email.png" alt="Email Icon" /> info@financeapp.com</p>
  </section>

   <!-- ===== LOGIN MODALS ===== -->
  <div id="student-login-modal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" data-close="student-login-modal" aria-label="Close">×</button>
      <h2>Student Login</h2>
      <form id="student-login-form" class="login-form" novalidate>
        <input type="text" name="studentId" placeholder="Student ID or Email" required />
        <input type="password" name="password" placeholder="Password" required minlength="6" />
        <div class="form-error" id="student-login-error" aria-live="polite"></div>
        <button type="submit" class="btn btn-block">Login</button>
      </form>
    </div>
  </div>

  <div id="finance-login-modal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <button class="modal-close" data-close="finance-login-modal" aria-label="Close">×</button>
      <h2>Finance Login</h2>
      <form id="finance-login-form" class="login-form" novalidate>
        <input type="email" name="email" placeholder="Work Email" required />
        <input type="password" name="password" placeholder="Password" required minlength="6" />
        <div class="form-error" id="finance-login-error" aria-live="polite"></div>
        <button type="submit" class="btn btn-block">Login</button>
      </form>
    </div>
  </div>

  <script>
    (function () {
      const openModal = (id) => {
        const m = document.getElementById(id);
        if (!m) return;
        m.classList.add('open');
        m.setAttribute('aria-hidden', 'false');
      };
      const closeModal = (id) => {
        const m = document.getElementById(id);
        if (!m) return;
        m.classList.remove('open');
        m.setAttribute('aria-hidden', 'true');
      };

      const getAuth = () => {
        try { return JSON.parse(localStorage.getItem('auth')) || null; } catch { return null; }
      };
      const setAuth = (auth) => {
        localStorage.setItem('auth', JSON.stringify(auth));
      };
      const clearAuth = () => {
        localStorage.removeItem('auth');
      };

      const updateNav = () => {
        const auth = getAuth();
        const studentBtn = document.getElementById('student-login-btn');
        const financeBtn = document.getElementById('finance-login-btn');
        const logoutLink = document.getElementById('logout-link');
        const userDisplay = document.getElementById('user-display');
        if (auth) {
          if (studentBtn) studentBtn.style.display = 'none';
          if (financeBtn) financeBtn.style.display = 'none';
          if (logoutLink) logoutLink.style.display = 'inline-block';
          if (userDisplay) { userDisplay.style.display = 'inline-block'; userDisplay.textContent = auth.role + ': ' + auth.identifier; }
        } else {
          if (studentBtn) studentBtn.style.display = 'inline-block';
          if (financeBtn) financeBtn.style.display = 'inline-block';
          if (logoutLink) logoutLink.style.display = 'none';
          if (userDisplay) { userDisplay.style.display = 'none'; userDisplay.textContent = ''; }
        }
      };

      document.getElementById('logout-link')?.addEventListener('click', (e) => {
        e.preventDefault();
        clearAuth();
        updateNav();
      });

      document.querySelectorAll('[data-open]').forEach((btn) => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          openModal(btn.getAttribute('data-open'));
        });
      });

      document.querySelectorAll('.modal').forEach((m) => {
        m.addEventListener('click', (e) => {
          if (e.target.classList.contains('modal')) {
            closeModal(m.id);
          }
        });
      });

      document.querySelectorAll('.modal-close').forEach((btn) => {
        btn.addEventListener('click', () => closeModal(btn.getAttribute('data-close')));
      });

      const fakeLogin = (payload, role) => {
        if (role === 'Student') {
          if (!payload.studentId || payload.studentId.trim().length < 2) {
            throw new Error('Enter a valid Student ID or email.');
          }
        } else if (role === 'Finance') {
          if (!payload.email || !payload.email.includes('@')) {
            throw new Error('Enter a valid work email.');
          }
        }
        if (!payload.password || payload.password.length < 6) {
          throw new Error('Password must be at least 6 characters.');
        }
        return { role, identifier: role === 'Student' ? payload.studentId : payload.email };
      };

      const handleSubmit = (formId, role, errorId, modalId) => {
        const form = document.getElementById(formId);
        const errorEl = document.getElementById(errorId);
        if (!form) return;
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          errorEl.textContent = '';
          if (!form.checkValidity()) {
            form.reportValidity();
            return;
          }
          const data = Object.fromEntries(new FormData(form).entries());
          const submitBtn = form.querySelector('button[type="submit"]');
          submitBtn.disabled = true;
          try {
            await new Promise(r => setTimeout(r, 600));
            const auth = fakeLogin(data, role);
            setAuth(auth);
            updateNav();
            closeModal(modalId);
          } catch (err) {
            errorEl.textContent = err.message || 'Login failed.';
          } finally {
            submitBtn.disabled = false;
          }
        });
      };

      handleSubmit('student-login-form', 'Student', 'student-login-error', 'student-login-modal');
      handleSubmit('finance-login-form', 'Finance', 'finance-login-error', 'finance-login-modal');

      updateNav();
    })();
  </script>

  <!-- ===== FOOTER ===== -->
  <footer class="footer">
    <p>© 2025 Finance & Accounting System | Built by Team X (EUI)</p>
  </footer>
</body>
</html>




